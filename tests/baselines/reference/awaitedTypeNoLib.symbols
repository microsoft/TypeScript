//// [tests/cases/compiler/awaitedTypeNoLib.ts] ////

=== awaitedTypeNoLib.ts ===
type NotPromise<T> = T extends Thennable<unknown>
>NotPromise : Symbol(NotPromise, Decl(awaitedTypeNoLib.ts, 0, 0))
>T : Symbol(T, Decl(awaitedTypeNoLib.ts, 0, 16))
>T : Symbol(T, Decl(awaitedTypeNoLib.ts, 0, 16))
>Thennable : Symbol(Thennable, Decl(awaitedTypeNoLib.ts, 6, 50))

  ? T
>T : Symbol(T, Decl(awaitedTypeNoLib.ts, 0, 16))

  : T extends PromiseLike<unknown>
>T : Symbol(T, Decl(awaitedTypeNoLib.ts, 0, 16))
>PromiseLike : Symbol(PromiseLike)

  ? never
  : T;
>T : Symbol(T, Decl(awaitedTypeNoLib.ts, 0, 16))

type Receiver<T> = (value: NotPromise<T>) => void;
>Receiver : Symbol(Receiver, Decl(awaitedTypeNoLib.ts, 4, 6))
>T : Symbol(T, Decl(awaitedTypeNoLib.ts, 6, 14))
>value : Symbol(value, Decl(awaitedTypeNoLib.ts, 6, 20))
>NotPromise : Symbol(NotPromise, Decl(awaitedTypeNoLib.ts, 0, 0))
>T : Symbol(T, Decl(awaitedTypeNoLib.ts, 6, 14))

class Thennable<T> {
>Thennable : Symbol(Thennable, Decl(awaitedTypeNoLib.ts, 6, 50))
>T : Symbol(T, Decl(awaitedTypeNoLib.ts, 8, 16))

  then(a: Receiver<T>) {}
>then : Symbol(Thennable.then, Decl(awaitedTypeNoLib.ts, 8, 20))
>a : Symbol(a, Decl(awaitedTypeNoLib.ts, 9, 7))
>Receiver : Symbol(Receiver, Decl(awaitedTypeNoLib.ts, 4, 6))
>T : Symbol(T, Decl(awaitedTypeNoLib.ts, 8, 16))

  private handleResolve<TResult>(
>handleResolve : Symbol(Thennable.handleResolve, Decl(awaitedTypeNoLib.ts, 9, 25))
>TResult : Symbol(TResult, Decl(awaitedTypeNoLib.ts, 11, 24))

    result: NotPromise<TResult> | Thennable<NotPromise<TResult>>,
>result : Symbol(result, Decl(awaitedTypeNoLib.ts, 11, 33))
>NotPromise : Symbol(NotPromise, Decl(awaitedTypeNoLib.ts, 0, 0))
>TResult : Symbol(TResult, Decl(awaitedTypeNoLib.ts, 11, 24))
>Thennable : Symbol(Thennable, Decl(awaitedTypeNoLib.ts, 6, 50))
>NotPromise : Symbol(NotPromise, Decl(awaitedTypeNoLib.ts, 0, 0))
>TResult : Symbol(TResult, Decl(awaitedTypeNoLib.ts, 11, 24))

    resolve: Receiver<TResult>,
>resolve : Symbol(resolve, Decl(awaitedTypeNoLib.ts, 12, 65))
>Receiver : Symbol(Receiver, Decl(awaitedTypeNoLib.ts, 4, 6))
>TResult : Symbol(TResult, Decl(awaitedTypeNoLib.ts, 11, 24))

  ) {
    if (result instanceof Thennable) {
>result : Symbol(result, Decl(awaitedTypeNoLib.ts, 11, 33))
>Thennable : Symbol(Thennable, Decl(awaitedTypeNoLib.ts, 6, 50))

      // Error: Debug Failure. False expression: type provided should not be a non-generic 'promise'-like.
      this.resolvePromise(result, resolve);
>this.resolvePromise : Symbol(Thennable.resolvePromise, Decl(awaitedTypeNoLib.ts, 19, 3))
>this : Symbol(Thennable, Decl(awaitedTypeNoLib.ts, 6, 50))
>resolvePromise : Symbol(Thennable.resolvePromise, Decl(awaitedTypeNoLib.ts, 19, 3))
>result : Symbol(result, Decl(awaitedTypeNoLib.ts, 11, 33))
>resolve : Symbol(resolve, Decl(awaitedTypeNoLib.ts, 12, 65))
    }
  }

  private resolvePromise<TResult>(
>resolvePromise : Symbol(Thennable.resolvePromise, Decl(awaitedTypeNoLib.ts, 19, 3))
>TResult : Symbol(TResult, Decl(awaitedTypeNoLib.ts, 21, 25))

    result: Thennable<TResult>,
>result : Symbol(result, Decl(awaitedTypeNoLib.ts, 21, 34))
>Thennable : Symbol(Thennable, Decl(awaitedTypeNoLib.ts, 6, 50))
>TResult : Symbol(TResult, Decl(awaitedTypeNoLib.ts, 21, 25))

    resolve: Receiver<TResult>,
>resolve : Symbol(resolve, Decl(awaitedTypeNoLib.ts, 22, 31))
>Receiver : Symbol(Receiver, Decl(awaitedTypeNoLib.ts, 4, 6))
>TResult : Symbol(TResult, Decl(awaitedTypeNoLib.ts, 21, 25))

  ) {}
}
